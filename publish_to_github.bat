@echo off
echo ========================================
echo    –ü–£–ë–õ–Ü–ö–ê–¶–Ü–Ø –ü–†–û–ï–ö–¢–£ –ù–ê GITHUB
echo ========================================

REM –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Git
git --version >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå Git –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π!
    echo.
    echo –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Git –∑ https://git-scm.com/download/win
    echo —Ç–∞ –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–Ω–æ–≤—É.
    pause
    exit /b 1
)

echo ‚úÖ Git –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π

REM –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
if not exist .git (
    echo ‚ùå Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π!
    echo.
    echo –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–ø–æ—á–∞—Ç–∫—É init_git_repo.bat
    pause
    exit /b 1
)

echo ‚úÖ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π

REM –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∫–æ–º—ñ—Ç—ñ–≤
git log --oneline -1 >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå –ù–µ–º–∞—î –∫–æ–º—ñ—Ç—ñ–≤ —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó!
    echo.
    echo –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–ø–æ—á–∞—Ç–∫—É init_git_repo.bat
    pause
    exit /b 1
)

echo ‚úÖ –ó–Ω–∞–π–¥–µ–Ω–æ –∫–æ–º—ñ—Ç–∏

echo.
echo üîó –Ü–ù–°–¢–†–£–ö–¶–Ü–á –ü–û –°–¢–í–û–†–ï–ù–ù–Æ GITHUB –†–ï–ü–û–ó–ò–¢–û–†–Ü–Æ:
echo ================================================
echo.
echo 1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://github.com/new
echo 2. –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é: KavaCRM
echo 3. –î–æ–¥–∞–π—Ç–µ –æ–ø–∏—Å: "CRM —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏ –∑ AI"
echo 4. –û–ë–û–í'–Ø–ó–ö–û–í–û: –ù–ï —Å—Ç–∞–≤—Ç–µ –≥–∞–ª–æ—á–∫—É "Add a README file"
echo 5. –ù–ï —Å—Ç–∞–≤—Ç–µ –≥–∞–ª–æ—á–∫—É "Add .gitignore"
echo 6. –ù–ï –¥–æ–¥–∞–≤–∞–π—Ç–µ –ª—ñ—Ü–µ–Ω–∑—ñ—é –ø–æ–∫–∏ —â–æ
echo 7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create repository"
echo.
echo 8. –°–∫–æ–ø—ñ—é–π—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: https://github.com/username/KavaCRM.git)
echo.

set /p repo_url="–í–≤–µ–¥—ñ—Ç—å URL –≤–∞—à–æ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é: "

if "%repo_url%"=="" (
    echo ‚ùå URL –Ω–µ –≤–≤–µ–¥–µ–Ω–æ!
    pause
    exit /b 1
)

echo.
echo ‚ÑπÔ∏è  –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è remote origin...
git remote add origin "%repo_url%"

if %errorlevel% neq 0 (
    echo ‚ö†Ô∏è  Remote origin –≤–∂–µ —ñ—Å–Ω—É—î, –æ–Ω–æ–≤–ª—é—î–º–æ...
    git remote set-url origin "%repo_url%"
)

echo ‚úÖ Remote origin –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π

echo.
echo ‚ÑπÔ∏è  –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∫–æ–¥—É –Ω–∞ GitHub...
echo –¶–µ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ –¥–µ—è–∫–∏–π —á–∞—Å –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É –ø—Ä–æ–µ–∫—Ç—É...

REM –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub
git push -u origin main

if %errorlevel% equ 0 (
    echo.
    echo ========================================
    echo        –ü–†–û–ï–ö–¢ –û–ü–£–ë–õ–Ü–ö–û–í–ê–ù–û!
    echo ========================================
    echo.
    echo ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ –Ω–∞ GitHub
    echo üåê URL: %repo_url%
    echo.
    echo üîß –ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò:
    echo.
    echo 1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub
    echo 2. –î–æ–¥–∞–π—Ç–µ –æ–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É –≤ README
    echo 3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ GitHub Actions –¥–ª—è CI/CD (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
    echo 4. –ó–∞–ø—Ä–æ—Å—ñ—Ç—å –∫–æ–Ω—Ç—Ä–∏–± º—é—Ç–æ—Ä—ñ–≤
    echo.
    echo üìö –ö–û–†–ò–°–ù–Ü –ö–û–ú–ê–ù–î–ò:
    echo.
    echo ‚Ä¢ git status                    - —Å—Ç–∞—Ç—É—Å –∑–º—ñ–Ω
    echo ‚Ä¢ git add .                     - –¥–æ–¥–∞—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–∏
    echo ‚Ä¢ git commit -m "–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è"  - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º—ñ—Ç
    echo ‚Ä¢ git push                      - –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–∞ GitHub
    echo ‚Ä¢ git pull                      - –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–º—ñ–Ω–∏ –∑ GitHub
    echo.
    echo üîí –í–ê–ñ–õ–ò–í–û:
    echo ‚Ä¢ –ù–Ü–ö–û–õ–ò –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ .env —Ñ–∞–π–ª–∏
    echo ‚Ä¢ –ù–Ü–ö–û–õ–ò –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ
    echo ‚Ä¢ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ .gitignore –¥–ª—è –≤–∏–∫–ª—é—á–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤
    echo.
) else (
    echo.
    echo ‚ùå –ü–û–ú–ò–õ–ö–ê –í–Ü–î–ü–†–ê–í–ö–ò –ù–ê GITHUB
    echo.
    echo –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:
    echo ‚Ä¢ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
    echo ‚Ä¢ –ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
    echo ‚Ä¢ –ü—Ä–æ–±–ª–µ–º–∏ –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
    echo.
    echo –°–ø—Ä–æ–±—É–π—Ç–µ:
    echo 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
    echo 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É
    echo 3. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏: git push --force-with-lease origin main
    echo.
    pause
    exit /b 1
)

REM –°—Ç–≤–æ—Ä–µ–Ω–Ω—è develop –≥—ñ–ª–∫–∏ –Ω–∞ GitHub
echo.
echo ‚ÑπÔ∏è  –°—Ç–≤–æ—Ä–µ–Ω–Ω—è develop –≥—ñ–ª–∫–∏ –Ω–∞ GitHub...
git push -u origin develop

if %errorlevel% equ 0 (
    echo ‚úÖ Develop –≥—ñ–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ GitHub
) else (
    echo ‚ö†Ô∏è  –ù–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ develop –≥—ñ–ª–∫—É
)

echo.
echo üéâ –í–Ü–¢–ê–Ñ–ú–û! –ü–†–û–ï–ö–¢ –ü–û–í–ù–Ü–°–¢–Æ –ì–û–¢–û–í–ò–ô –î–û –°–ü–Ü–í–ü–†–ê–¶–Ü
echo.
echo –¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ:
echo ‚Ä¢ –î—ñ–ª–∏—Ç–∏—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º –∑ –∫–æ–º–∞–Ω–¥–æ—é
echo ‚Ä¢ –ü—Ä–∏–π–º–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–∏–± º—é—Ü—ñ—ó
echo ‚Ä¢ –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏
echo ‚Ä¢ –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä–µ–ª—ñ–∑–∏
echo.
pause
